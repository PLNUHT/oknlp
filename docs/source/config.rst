.. _config:

自定义配置
==========


你可以通过相关配置修改模型存放路径、运行device等设置。

默认配置
----------

+----------------+---------------------------------------+-----------------------------------------------------------+
|     配置名     |                 描述                  |                          默认值                           |
+================+=======================================+===========================================================+
| path           | list[str], 表示用来查找资源的目录路径 | [$HOME/.oknlp]                                            |
+----------------+---------------------------------------+-----------------------------------------------------------+
| source         | str, 表示数据下载源                   | "https://data.thunlp.org/ink/"                            |
+----------------+---------------------------------------+-----------------------------------------------------------+
| default_device | str, 表示模型运行时使用的device       | "cpu"                                                     |
+----------------+---------------------------------------+-----------------------------------------------------------+


配置加载
----------

import工具包时，会进行配置的初始化，并保存在一个类实例(oknlp.config)中

加载配置时的优先级为：当前目录下的".oknlp.yml"文件（如果有）>用户HOME目录下的".oknlp.yml"文件（如果有）>配置默认值

当用户HOME目录下的 ".oknlp.yml" 不存在时，会自动创建 ".oknlp.yml"，并写入默认配置

用户可以通过直接修改 config.path, config.source, ... 等变量来修改运行时的配置， 例如：

.. code-block:: python

    import oknlp
    oknlp.config.default_device = "cuda:1"
